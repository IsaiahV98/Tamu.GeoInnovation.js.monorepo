<form [formGroup]="form" (ngSubmit)="submitForm()">
  <div class="form-section">
    <div class="form-section-toolbar">
      <div class="form-section-name">Location Information (Required)</div>
    </div>

    <div class="form-section-body">
      <div class="form-collection row pad-top">
        <tamu-gisc-textbox type="text" formControlName="address1" floatLabel="true" placeholder="Address 1"></tamu-gisc-textbox>
      </div>

      <div class="form-collection row">
        <tamu-gisc-textbox type="text" formControlName="address2" floatLabel="true" placeholder="Address 2"></tamu-gisc-textbox>
      </div>

      <div class="form-collection row">
        <tamu-gisc-textbox type="text" formControlName="city" floatLabel="true" placeholder="City"></tamu-gisc-textbox>
        <tamu-gisc-select formControlName="state" [data]="states | async" [valueTemplate]="'name'" [displayTemplate]="'name'" placeholder="Select State"></tamu-gisc-select>
      </div>

      <div class="form-collection row">
        <tamu-gisc-select formControlName="county" [data]="counties | async" [valueTemplate]="'name'" [displayTemplate]="'name'" placeholder="Select County"></tamu-gisc-select>
        <tamu-gisc-textbox type="text" formControlName="zip" floatLabel="true" placeholder="Zip"></tamu-gisc-textbox>
      </div>
    </div>
  </div>

  <div class="form-section">
    <div class="form-section-toolbar">
      <div class="form-section-name">Site Details</div>
    </div>

    <div class="form-section-body">
      <div class="form-collection row pad-top">
        <tamu-gisc-textbox type="text" formControlName="locationName" floatLabel="true" placeholder="Facility Name"></tamu-gisc-textbox>
        <tamu-gisc-textbox type="text" formControlName="locationPhoneNumber" floatLabel="true" placeholder="Facility Phone Number"></tamu-gisc-textbox>
      </div>

      <div class="form-collection row">
        <tamu-gisc-textbox type="text" formControlName="hoursOfOperation" floatLabel="true" placeholder="Hours of Operation"></tamu-gisc-textbox>
        <tamu-gisc-textbox type="number" formControlName="capacity" floatLabel="true" placeholder="Daily Person Testing Capacity"></tamu-gisc-textbox>
      </div>

      <div class="form-collection column">
        <tamu-gisc-checkbox formControlName="driveThrough" label="Is this a drive-through location?"></tamu-gisc-checkbox>
      </div>

      <div class="form-collection column">
        <tamu-gisc-textbox *ngIf="form.controls.driveThrough.value" type="number" formControlName="driveThroughCapacity" floatLabel="true" placeholder="Total Vehicle Capacity"></tamu-gisc-textbox>
      </div>

      <div class="form-collection column">
        <p class="emphasis">Select any of the following that best describes the site ownership:</p>
        <tamu-gisc-checkbox-group formControlName="siteOwnership" [referenceId]="'guid'">
          <tamu-gisc-checkbox *ngFor="let owner of owners | async" [label]="owner.type" [data]="owner"></tamu-gisc-checkbox>
        </tamu-gisc-checkbox-group>
      </div>

      <div class="form-collection column">
        <p class="emphasis">Select <strong>ONE</strong> from following that best describes the site operational status:</p>
        <tamu-gisc-checkbox-group formControlName="siteStatus" [referenceId]="'guid'">
          <tamu-gisc-checkbox *ngFor="let status of statuses | async" [label]="status.type" [data]="status"></tamu-gisc-checkbox>
        </tamu-gisc-checkbox-group>
      </div>

      <div class="form-collection column">
        <p class="emphasis">Select any of the applicable testing restrictions for this site:</p>
        <tamu-gisc-checkbox-group formControlName="restrictions" [referenceId]="'guid'">
          <tamu-gisc-checkbox *ngFor="let restriction of restrictions | async" [label]="restriction.type" [data]="restriction"></tamu-gisc-checkbox>
        </tamu-gisc-checkbox-group>
      </div>

      <div class="form-collection column">
        <p class="emphasis">Select any of the following services provided by this site:</p>
        <tamu-gisc-checkbox-group formControlName="siteServices" [referenceId]="'guid'">
          <tamu-gisc-checkbox *ngFor="let service of services | async" [label]="service.type" [data]="service"></tamu-gisc-checkbox>
        </tamu-gisc-checkbox-group>
      </div>

      <div class="form-collection row">
        <tamu-gisc-textbox type="textarea" formControlName="notes" floatLabel="true" placeholder="Additional Notes/Comments"></tamu-gisc-textbox>
      </div>
    </div>
  </div>

  <div class="form-section">
    <div class="form-section-toolbar">
      <div class="form-section-name">Source Information</div>
    </div>

    <div class="form-section-body">
      <div class="form-collection column">
        <p>Select the source medium where the information for this <i>testing site</i> can be found. Select only <strong>one</strong>:</p>
        <tamu-gisc-checkbox-group formControlName="classification" [referenceId]="'guid'">
          <tamu-gisc-checkbox *ngFor="let classification of classifications | async" [label]="classification.type" [data]="classification"></tamu-gisc-checkbox>
        </tamu-gisc-checkbox-group>
      </div>

      <div class="form-collection column">
        <tamu-gisc-textbox type="text" formControlName="url" floatLabel="true" placeholder="Article or website URL"></tamu-gisc-textbox>
      </div>

      <div class="form-collection column">
        <tamu-gisc-textbox type="text" formControlName="healthDepartmentUrl" floatLabel="true" placeholder="City/County Health Department URL"></tamu-gisc-textbox>
      </div>
    </div>
  </div>

  <div class="form-section">
    <div class="form-section-toolbar">
      <div class="form-section-name">Lockdown Information</div>
    </div>

    <div class="form-section-body">
      <div class="form-collection column">
        <tamu-gisc-checkbox formControlName="isLockdown" label="Is this testing site within county or city limits where a shelter-in-place directive is in effect?"></tamu-gisc-checkbox>
      </div>

      <div class="form-collection column" *ngIf="form.controls.isLockdown.value">
        <label for="lockdownStart">Lockdown date start:</label>
        <input type="date" name="lockdownStart" formControlName="lockdownStart" />

        <br />

        <label for="lockdownEnd">Lockdown date end:</label>
        <input type="date" name="lockdownEnd" formControlName="lockdownEnd" />
      </div>

      <div class="form-collection column" *ngIf="form.controls.isLockdown.value">
        <tamu-gisc-textbox type="textarea" formControlName="lockdownProtocol" floatLabel="true" placeholder="Lockdown protocol instructions"></tamu-gisc-textbox>
      </div>

      <div class="form-collection column" *ngIf="form.controls.isLockdown.value">
        <tamu-gisc-textbox type="text" formControlName="lockdownUrl" floatLabel="true" placeholder="Lockdown information URL"></tamu-gisc-textbox>
      </div>

      <div class="form-collection column" *ngIf="form.controls.isLockdown.value">
        <div class="form-collection column">
          <p>Please select the source medium where the information for the <i>lockdown</i> can be found. Select only <strong>one</strong>:</p>
          <tamu-gisc-checkbox-group formControlName="lockdownUrlClassification" [referenceId]="'guid'">
            <tamu-gisc-checkbox *ngFor="let classification of classifications | async" [label]="classification.type" [data]="classification"></tamu-gisc-checkbox>
          </tamu-gisc-checkbox-group>
        </div>
      </div>
    </div>
  </div>

  <div class="form-section">
    <div class="form-section-toolbar">
      <div class="form-section-name">Contact Information</div>
    </div>

    <div class="form-section-body">
      <div class="form-collection row pad-top">
        <tamu-gisc-textbox type="text" formControlName="email" floatLabel="true" placeholder="Your Email Address"></tamu-gisc-textbox>
      </div>
    </div>
  </div>

  <div class="form-section">
    <div class="form-section-body">
      <tamu-gisc-button *ngIf="!formState.submitted" type="submit" [value]="!formState.submitting ? 'Submit' : 'Submitting...'" [disabled]="formState.submitting"></tamu-gisc-button>

      <p *ngIf="formState.submitted"><strong>Thank you! Your submission has been recorded and will be processed as soon as possible.</strong></p>
    </div>
  </div>
</form>
